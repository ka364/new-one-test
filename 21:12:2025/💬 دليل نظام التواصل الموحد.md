# ğŸ’¬ Ø¯Ù„ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ÙˆØ­Ø¯

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… ØªÙˆØ§ØµÙ„ Ø´Ø§Ù…Ù„ ÙŠØ¯Ø¹Ù… **3 Ù…Ø³ØªÙˆÙŠØ§Øª** Ù…Ù† Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø®Ø·Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ:

1. **ğŸ¢ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ** (Team Messaging) - Ø±Ø³Ø§Ø¦Ù„ Ø¨ÙŠÙ† Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚
2. **ğŸ§ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡** (Customer Support) - ØªØ°Ø§ÙƒØ± Ø¯Ø¹Ù… ÙˆØ®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡
3. **ğŸ¤– Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ** (AI Integration) - Ù…Ø³Ø§Ø¹Ø¯ AI Ù…Ø®ØµØµ

---

## ğŸ“Š Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©

### **1. Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ (Team Messaging)** ğŸ¢

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø«Ù†Ø§Ø¦ÙŠØ© (Direct Messages)
- âœ… Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠØ© (Group Chats)
- âœ… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„ØµÙˆØ±
- âœ… Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
- âœ… Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª (Reactions)
- âœ… Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© (Read Receipts)
- âœ… Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© (Typing Indicators)
- âœ… Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
- âœ… Ø§Ù„Ø£Ø±Ø´ÙØ© ÙˆØ§Ù„ØªØ«Ø¨ÙŠØª

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
- Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø£Ø¹Ø¶Ø§Ø¡ Ù†ÙØ³ Ø§Ù„Ù…ØµÙ†Ø¹/Ø§Ù„Ù‚Ø³Ù…/Ø§Ù„ÙØ±ÙŠÙ‚
- Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
- ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…Ù‡Ø§Ù…

**Ù…ØªØ§Ø­ ÙÙŠ:**
- âœ… Free Plan (Ù…Ø­Ø¯ÙˆØ¯)
- âœ… Basic Plan
- âœ… Professional Plan
- âœ… Enterprise Plan

---

### **2. Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Customer Support)** ğŸ§

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… ØªØ°Ø§ÙƒØ± Ø¯Ø¹Ù… (Support Tickets)
- âœ… Ø£ÙˆÙ„ÙˆÙŠØ§Øª (Low, Medium, High, Urgent)
- âœ… Ø­Ø§Ù„Ø§Øª (Open, In Progress, Waiting, Resolved, Closed)
- âœ… ÙØ¦Ø§Øª Ø§Ù„Ù…Ø´Ø§ÙƒÙ„
- âœ… ØªØ¹ÙŠÙŠÙ† Ù„Ù„ÙØ±ÙŠÙ‚
- âœ… SLA Tracking
- âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡
- âœ… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
- ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù…
- ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ÙˆØ§Ù„Ø­Ù„ÙˆÙ„
- Ù‚ÙŠØ§Ø³ Ø±Ø¶Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

**Ù…ØªØ§Ø­ ÙÙŠ:**
- âŒ Free Plan
- âœ… Basic Plan (Ù…Ø­Ø¯ÙˆØ¯)
- âœ… Professional Plan
- âœ… Enterprise Plan (ÙƒØ§Ù…Ù„)

---

### **3. Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (AI Integration)** ğŸ¤–

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ AI
- âœ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (GPT-4, Claude, DeepSeek, Gemini)
- âœ… System Prompts Ù…Ø®ØµØµØ©
- âœ… Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
- âœ… ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„ØªÙƒÙ„ÙØ©
- âœ… Ø­Ø¯ÙˆØ¯ Ø´Ù‡Ø±ÙŠØ©

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
- Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†
- Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
- ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰

**Ù…ØªØ§Ø­ ÙÙŠ:**
- âŒ Free Plan
- âœ… Basic Plan (Ù…Ø­Ø¯ÙˆØ¯ - 10K tokens/Ø´Ù‡Ø±)
- âœ… Professional Plan (100K tokens/Ø´Ù‡Ø±)
- âœ… Enterprise Plan (ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯)

---

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (9 Ø¬Ø¯Ø§ÙˆÙ„)

### **1. conversations** - Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª

```sql
CREATE TABLE conversations (
  id UUID PRIMARY KEY,
  type conversation_type NOT NULL, -- 'direct', 'group', 'support', 'ai'
  name TEXT,
  description TEXT,
  avatar TEXT,
  
  -- Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ
  hierarchy_path TEXT,
  department_id UUID,
  
  -- Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  ticket_number TEXT UNIQUE,
  ticket_status support_ticket_status,
  ticket_priority support_ticket_priority,
  ticket_category TEXT,
  
  -- Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  ai_provider ai_provider,
  ai_model TEXT,
  ai_system_prompt TEXT,
  ai_context JSONB DEFAULT '{}',
  
  -- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  created_by UUID NOT NULL,
  last_message_at TIMESTAMP,
  last_message_preview TEXT,
  
  -- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  is_archived BOOLEAN DEFAULT FALSE,
  is_pinned BOOLEAN DEFAULT FALSE,
  is_muted BOOLEAN DEFAULT FALSE,
  
  metadata JSONB DEFAULT '{}'
);
```

**Ø§Ù„ÙÙ‡Ø§Ø±Ø³:**
- `type` - Ù„Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
- `hierarchy_path` - Ù„Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ÙƒÙŠØ§Ù†
- `ticket_number` - Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø³Ø±ÙŠØ¹
- `ticket_status` - Ù„Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©
- `created_by` - Ù„Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø´Ø¦
- `last_message_at` - Ù„Ù„ØªØ±ØªÙŠØ¨

---

### **2. conversation_participants** - Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†

```sql
CREATE TABLE conversation_participants (
  id UUID PRIMARY KEY,
  conversation_id UUID NOT NULL REFERENCES conversations(id) ON DELETE CASCADE,
  user_id UUID NOT NULL,
  
  role participant_role NOT NULL DEFAULT 'member', -- 'admin', 'member', 'support', 'customer'
  joined_at TIMESTAMP DEFAULT NOW(),
  left_at TIMESTAMP,
  
  -- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
  is_muted BOOLEAN DEFAULT FALSE,
  muted_until TIMESTAMP,
  notification_settings JSONB DEFAULT '{"desktop": true, "mobile": true, "email": false}',
  
  -- ØªØªØ¨Ø¹ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
  last_read_at TIMESTAMP,
  last_read_message_id UUID,
  
  -- Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
  can_send_messages BOOLEAN DEFAULT TRUE,
  can_add_members BOOLEAN DEFAULT FALSE,
  can_remove_members BOOLEAN DEFAULT FALSE,
  can_edit_conversation BOOLEAN DEFAULT FALSE,
  
  metadata JSONB DEFAULT '{}',
  
  UNIQUE(conversation_id, user_id)
);
```

---

### **3. messages** - Ø§Ù„Ø±Ø³Ø§Ø¦Ù„

```sql
CREATE TABLE messages (
  id UUID PRIMARY KEY,
  conversation_id UUID NOT NULL REFERENCES conversations(id) ON DELETE CASCADE,
  sender_id UUID NOT NULL,
  
  -- Ø§Ù„Ù…Ø­ØªÙˆÙ‰
  content TEXT NOT NULL,
  message_type message_type NOT NULL DEFAULT 'text', -- 'text', 'image', 'file', 'audio', 'video', 'system'
  
  -- Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª
  attachments JSONB DEFAULT '[]',
  
  -- Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø©
  reply_to_id UUID REFERENCES messages(id) ON DELETE SET NULL,
  
  -- Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠØ©
  system_action TEXT,
  system_data JSONB DEFAULT '{}',
  
  -- Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  ai_generated BOOLEAN DEFAULT FALSE,
  ai_provider ai_provider,
  ai_model TEXT,
  ai_tokens_used INTEGER,
  ai_cost INTEGER, -- Ø¨Ø§Ù„Ø³Ù†Øª
  
  -- Ø§Ù„ØªØ­Ø±ÙŠØ± ÙˆØ§Ù„Ø­Ø°Ù
  edited BOOLEAN DEFAULT FALSE,
  edited_at TIMESTAMP,
  deleted BOOLEAN DEFAULT FALSE,
  deleted_at TIMESTAMP,
  deleted_by UUID,
  
  -- Ø§Ù„ØªÙˆÙ‚ÙŠØª
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  -- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  read_count INTEGER DEFAULT 0,
  reaction_count INTEGER DEFAULT 0,
  
  metadata JSONB DEFAULT '{}'
);
```

---

### **4. message_reads** - Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©

```sql
CREATE TABLE message_reads (
  id UUID PRIMARY KEY,
  message_id UUID NOT NULL REFERENCES messages(id) ON DELETE CASCADE,
  user_id UUID NOT NULL,
  read_at TIMESTAMP DEFAULT NOW(),
  
  UNIQUE(message_id, user_id)
);
```

---

### **5. message_reactions** - Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª

```sql
CREATE TABLE message_reactions (
  id UUID PRIMARY KEY,
  message_id UUID NOT NULL REFERENCES messages(id) ON DELETE CASCADE,
  user_id UUID NOT NULL,
  emoji TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  
  UNIQUE(message_id, user_id, emoji)
);
```

---

### **6. attachments** - Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª

```sql
CREATE TABLE attachments (
  id UUID PRIMARY KEY,
  message_id UUID REFERENCES messages(id) ON DELETE CASCADE,
  conversation_id UUID REFERENCES conversations(id) ON DELETE CASCADE,
  
  file_name TEXT NOT NULL,
  file_type TEXT NOT NULL,
  file_size INTEGER NOT NULL,
  mime_type TEXT,
  
  file_url TEXT NOT NULL,
  thumbnail_url TEXT,
  
  uploaded_at TIMESTAMP DEFAULT NOW(),
  uploaded_by UUID NOT NULL,
  
  -- Ù„Ù„ØµÙˆØ±
  width INTEGER,
  height INTEGER,
  
  -- Ù„Ù„ÙÙŠØ¯ÙŠÙˆ/Ø§Ù„ØµÙˆØª
  duration INTEGER, -- Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
  
  metadata JSONB DEFAULT '{}'
);
```

---

### **7. typing_indicators** - Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨Ø©

```sql
CREATE TABLE typing_indicators (
  id UUID PRIMARY KEY,
  conversation_id UUID NOT NULL REFERENCES conversations(id) ON DELETE CASCADE,
  user_id UUID NOT NULL,
  started_at TIMESTAMP DEFAULT NOW(),
  expires_at TIMESTAMP NOT NULL, -- ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†ÙŠ
  
  UNIQUE(conversation_id, user_id)
);
```

---

### **8. ai_usage** - Ø§Ø³ØªØ®Ø¯Ø§Ù… AI

```sql
CREATE TABLE ai_usage (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  organization_id UUID,
  hierarchy_path TEXT,
  
  conversation_id UUID REFERENCES conversations(id) ON DELETE SET NULL,
  message_id UUID REFERENCES messages(id) ON DELETE SET NULL,
  
  provider ai_provider NOT NULL,
  model TEXT NOT NULL,
  
  prompt_tokens INTEGER NOT NULL,
  completion_tokens INTEGER NOT NULL,
  total_tokens INTEGER NOT NULL,
  
  cost INTEGER NOT NULL, -- Ø¨Ø§Ù„Ø³Ù†Øª
  
  created_at TIMESTAMP DEFAULT NOW(),
  
  metadata JSONB DEFAULT '{}'
);
```

---

### **9. subscription_limits** - Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ

```sql
CREATE TABLE subscription_limits (
  id UUID PRIMARY KEY,
  organization_id UUID NOT NULL,
  hierarchy_path TEXT,
  
  plan subscription_plan NOT NULL DEFAULT 'free', -- 'free', 'basic', 'professional', 'enterprise'
  
  -- Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
  max_messages_per_month INTEGER,
  messages_used_this_month INTEGER DEFAULT 0,
  
  -- Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª
  max_storage_gb INTEGER,
  storage_used_gb INTEGER DEFAULT 0,
  
  -- Ø­Ø¯ÙˆØ¯ AI
  ai_enabled BOOLEAN DEFAULT FALSE,
  max_ai_tokens_per_month INTEGER,
  ai_tokens_used_this_month INTEGER DEFAULT 0,
  allowed_ai_providers JSONB DEFAULT '["openai"]',
  
  -- Ø­Ø¯ÙˆØ¯ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  support_enabled BOOLEAN DEFAULT FALSE,
  max_open_tickets INTEGER,
  current_open_tickets INTEGER DEFAULT 0,
  
  -- Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
  period_start TIMESTAMP NOT NULL,
  period_end TIMESTAMP NOT NULL,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  
  metadata JSONB DEFAULT '{}'
);
```

---

## ğŸ”Œ API Endpoints (10+ endpoints)

### **Conversations**

#### 1. Create Conversation
```typescript
createConversation({
  type: "direct" | "group" | "support" | "ai",
  name?: string,
  userIds?: string[],
  hierarchyPath?: string,
  ticketPriority?: "low" | "medium" | "high" | "urgent",
  aiProvider?: "openai" | "anthropic" | "deepseek" | "gemini",
  aiModel?: string,
  initialMessage?: string,
})
```

#### 2. Get Conversations
```typescript
getConversations({
  type?: "direct" | "group" | "support" | "ai" | "all",
  limit?: number,
  offset?: number,
  search?: string,
  hierarchyPath?: string,
})
```

#### 3. Get Conversation
```typescript
getConversation({
  conversationId: string,
})
```

#### 4. Update Conversation
```typescript
updateConversation({
  conversationId: string,
  name?: string,
  description?: string,
  ticketStatus?: "open" | "in_progress" | "waiting" | "resolved" | "closed",
  ticketPriority?: "low" | "medium" | "high" | "urgent",
})
```

#### 5. Delete Conversation
```typescript
deleteConversation({
  conversationId: string,
  archive?: boolean, // true = archive, false = delete
})
```

---

### **Messages**

#### 6. Send Message
```typescript
sendMessage({
  conversationId: string,
  content: string,
  messageType?: "text" | "image" | "file" | "audio" | "video",
  attachments?: Array<{
    fileName: string,
    fileType: string,
    fileSize: number,
    fileUrl: string,
    thumbnailUrl?: string,
  }>,
  replyToId?: string,
})
```

#### 7. Get Messages
```typescript
getMessages({
  conversationId: string,
  limit?: number,
  before?: string, // Message ID for pagination
})
```

---

## ğŸ“‹ Ø®Ø·Ø· Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ

| Ø§Ù„Ù…ÙŠØ²Ø© | Free | Basic | Professional | Enterprise |
|--------|------|-------|--------------|------------|
| **Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©** | 1,000 | 10,000 | 100,000 | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ |
| **Ø§Ù„ØªØ®Ø²ÙŠÙ†** | 1 GB | 10 GB | 100 GB | 1 TB |
| **Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©** | âŒ | âœ… | âœ… | âœ… |
| **Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡** | âŒ | Ù…Ø­Ø¯ÙˆØ¯ (5 ØªØ°Ø§ÙƒØ±) | âœ… (50 ØªØ°ÙƒØ±Ø©) | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ |
| **AI** | âŒ | Ù…Ø­Ø¯ÙˆØ¯ (10K tokens) | âœ… (100K tokens) | ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ |
| **Ù†Ù…Ø§Ø°Ø¬ AI** | - | OpenAI | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ + Ù…Ø®ØµØµ |
| **Ø§Ù„Ø¯Ø¹Ù…** | Community | Email | Priority | Dedicated |
| **Ø§Ù„Ø³Ø¹Ø±/Ø´Ù‡Ø±** | $0 | $29 | $99 | Custom |

---

## ğŸš€ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### **1. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© Ø«Ù†Ø§Ø¦ÙŠØ©**

```typescript
const { conversation } = await trpc.unifiedCommunication.createConversation.mutate({
  type: "direct",
  userIds: ["user-id-123"],
  initialMessage: "Ù…Ø±Ø­Ø¨Ø§Ù‹! ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ",
});
```

### **2. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©**

```typescript
const { conversation } = await trpc.unifiedCommunication.createConversation.mutate({
  type: "group",
  name: "ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ±",
  description: "Ù…Ø­Ø§Ø¯Ø«Ø© ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ±",
  userIds: ["user-1", "user-2", "user-3"],
  hierarchyPath: "1.3.5", // ltree path
});
```

### **3. Ø¥Ù†Ø´Ø§Ø¡ ØªØ°ÙƒØ±Ø© Ø¯Ø¹Ù…**

```typescript
const { conversation } = await trpc.unifiedCommunication.createConversation.mutate({
  type: "support",
  ticketPriority: "high",
  ticketCategory: "technical_issue",
  initialMessage: "Ù„Ø¯ÙŠ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…...",
});
```

### **4. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø© AI**

```typescript
const { conversation } = await trpc.unifiedCommunication.createConversation.mutate({
  type: "ai",
  aiProvider: "openai",
  aiModel: "gpt-4",
  aiSystemPrompt: "Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª",
  initialMessage: "Ù…Ø§ Ù‡ÙŠ Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§ØªØŸ",
});
```

### **5. Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©**

```typescript
const message = await trpc.unifiedCommunication.sendMessage.mutate({
  conversationId: "conv-id-123",
  content: "Ù‡Ø°Ù‡ Ø±Ø³Ø§Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©",
  messageType: "text",
});
```

### **6. Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ Ù…Ø±ÙÙ‚**

```typescript
const message = await trpc.unifiedCommunication.sendMessage.mutate({
  conversationId: "conv-id-123",
  content: "Ø¥Ù„ÙŠÙƒ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨",
  messageType: "file",
  attachments: [{
    fileName: "report.pdf",
    fileType: "application/pdf",
    fileSize: 1024000,
    fileUrl: "https://storage.example.com/files/report.pdf",
  }],
});
```

---

## âœ… Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. âœ… ØªØ·Ø¨ÙŠÙ‚ Schema ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
2. âœ… Ø¥ÙƒÙ…Ø§Ù„ Router endpoints
3. âœ… Ø¨Ù†Ø§Ø¡ Components (Inbox, Chat, Support)
4. âœ… Ø¥Ø¶Ø§ÙØ© WebSocket Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙˆØ±ÙŠØ©
5. âœ… Ø¥Ø¶Ø§ÙØ© Push Notifications
6. âœ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„
7. âœ… Ø§Ù„Ø¥Ù†ØªØ§Ø¬

---

**Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ù†Ø§Ø¡! ğŸš€**
