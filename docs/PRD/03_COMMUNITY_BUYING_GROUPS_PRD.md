# Product Requirements Document (PRD)
# Ù†Ø¸Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© - Community Buying Groups

---

## ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªÙ†Ø¯

| Ø§Ù„Ø¨Ù†Ø¯ | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|-------|--------|
| **Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªÙ†Ø¯** | PRD-HADEROS-CBG-003 |
| **Ø§Ù„Ø¥ØµØ¯Ø§Ø±** | 1.0 |
| **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡** | 2 ÙŠÙ†Ø§ÙŠØ± 2026 |
| **Ø§Ù„Ø­Ø§Ù„Ø©** | Ù…Ø³ÙˆØ¯Ø© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© |

---

## 1. Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© (Overview)

### 1.1 Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ
Ù†Ø¸Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© ÙŠÙ…ÙƒÙ‘Ù† Ø§Ù„Ø³ÙƒØ§Ù† Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ† Ù…Ù† ØªØ´ÙƒÙŠÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø´Ø±Ø§Ø¡ Ø¯Ø§Ø¦Ù…Ø© ÙÙŠ Ø£Ø­ÙŠØ§Ø¦Ù‡Ù…ØŒ Ø¨Ù‚ÙŠØ§Ø¯Ø© Ø´Ø®Øµ Ù…Ø­Ù„ÙŠ Ù…ÙˆØ«ÙˆÙ‚ (Community Leader) ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆÙŠØ´Ø±Ù Ø¹Ù„Ù‰ ØªÙˆØ²ÙŠØ¹Ù‡Ø§ØŒ Ù…Ù‚Ø§Ø¨Ù„ Ø¹Ù…ÙˆÙ„Ø©.

### 1.2 Ø§Ù„ÙØ±Ù‚ Ø¹Ù† Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ (Group Buying)

| Ø§Ù„Ù…ÙŠØ²Ø© | Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ | Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ© |
|--------|----------------|---------------------------|
| **Ø§Ù„Ù…Ø¯Ø©** | Ø¹Ø±Ø¶ Ù…Ø¤Ù‚Øª (24-72 Ø³Ø§Ø¹Ø©) | Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¯Ø§Ø¦Ù…Ø© |
| **Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©** | Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… | Ù‚Ø§Ø¦Ø¯ Ù…Ø¹ØªÙ…Ø¯ ÙˆÙ…ÙØ¹Ø±Ù‘Ù |
| **Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª** | Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯ | ÙƒØªØ§Ù„ÙˆØ¬ ÙƒØ§Ù…Ù„ |
| **Ø§Ù„ØªÙˆØµÙŠÙ„** | ÙØ±Ø¯ÙŠ Ø£Ùˆ Ù…Ø¬Ù…Ø¹ | Ù…Ø¬Ù…Ø¹ Ø¯Ø§Ø¦Ù…Ø§Ù‹ |
| **Ø§Ù„Ø¯ÙØ¹** | ÙÙˆØ±ÙŠ | Ø£Ø³Ø¨ÙˆØ¹ÙŠ/Ø´Ù‡Ø±ÙŠ |
| **Ø§Ù„Ø¹Ù„Ø§Ù‚Ø©** | Ù…Ø¹Ø§Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø© | Ø¹Ù„Ø§Ù‚Ø© Ù…Ø³ØªÙ…Ø±Ø© |

### 1.3 Ù„Ù…Ø§Ø°Ø§ Ù…Ù‡Ù… Ù„Ù…ØµØ±ØŸ

```
ğŸ˜ï¸ Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¬ÙŠØ±Ø© Ø§Ù„Ù‚ÙˆÙŠØ© ÙÙŠ Ù…ØµØ±
   â””â”€â”€ Ø§Ù„Ø¬ÙŠØ±Ø§Ù† ÙŠØ«Ù‚ÙˆÙ† Ø¨Ø¨Ø¹Ø¶Ù‡Ù… Ù„Ù„Ø´Ø±Ø§Ø¡ Ù†ÙŠØ§Ø¨Ø© Ø¹Ù†Ù‡Ù…

ğŸ’° ØªÙˆÙÙŠØ± Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø´Ø­Ù†
   â””â”€â”€ ØªÙˆØµÙŠÙ„ ÙˆØ§Ø­Ø¯ Ù„Ù€ 20-50 Ø·Ù„Ø¨ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ØªÙˆØµÙŠÙ„Ø§Øª Ù…Ù†ÙØµÙ„Ø©

ğŸ‘¤ ÙØ±ØµØ© Ø¯Ø®Ù„ Ù„Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ†
   â””â”€â”€ 5-10% Ø¹Ù…ÙˆÙ„Ø© Ø¹Ù„Ù‰ ÙƒÙ„ Ø·Ù„Ø¨

ğŸšš Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© "ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¨ÙŠØª"
   â””â”€â”€ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…ØªØ§Ø­ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª
```

### 1.4 Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù

**Ø§Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙˆÙ† (Community Leaders):**
| Ø§Ù„Ø´Ø±ÙŠØ­Ø© | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…Ø²Ø§ÙŠØ§ |
|---------|-------|---------|
| Ø±Ø¨Ø§Øª Ø§Ù„Ø¨ÙŠÙˆØª | Ù…ØªÙˆØ§Ø¬Ø¯Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŒ Ø´Ø¨ÙƒØ© Ø¹Ù„Ø§Ù‚Ø§Øª Ù‚ÙˆÙŠØ© | ÙˆÙ‚Øª Ù…ØªØ§Ø­ØŒ Ø«Ù‚Ø© Ø§Ù„Ø¬ÙŠØ±Ø§Ù† |
| Ø§Ù„Ø¨ÙˆØ§Ø¨ÙŠÙ† | ÙŠØ¹Ø±ÙÙˆÙ† ÙƒÙ„ Ø§Ù„Ø³ÙƒØ§Ù†ØŒ Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ† | Ù…ÙˆÙ‚Ø¹ Ù…Ø«Ø§Ù„ÙŠØŒ Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¬Ù…ÙŠØ¹ |
| Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù…Ø­Ù„Ø§Øª | Ù„Ø¯ÙŠÙ‡Ù… Ù…ÙƒØ§Ù† Ù„Ù„ØªØ®Ø²ÙŠÙ† | Ù…Ø³Ø§Ø­Ø©ØŒ Ø®Ø¨Ø±Ø© ØªØ¬Ø§Ø±ÙŠØ© |
| Ø§Ù„Ù…ØªÙ‚Ø§Ø¹Ø¯ÙˆÙ† | ÙˆÙ‚Øª ÙØ±Ø§ØºØŒ Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ | Ø®Ø¨Ø±Ø©ØŒ Ø«Ù‚Ø©ØŒ ØªÙØ±Øº |
| Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª | Ù†Ø´Ø·ÙˆÙ†ØŒ ØªÙ‚Ù†ÙŠÙˆÙ† | Ø·Ø§Ù‚Ø©ØŒ ÙÙ‡Ù… Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ |

**Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„ÙˆÙ†:**
| Ø§Ù„Ø´Ø±ÙŠØ­Ø© | Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ |
|---------|----------|
| Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ø¹Ø§Ù…Ù„Ø© | Ù„Ø§ ÙˆÙ‚Øª Ù„Ù„ØªØ³ÙˆÙ‚ |
| ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù† | ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ø®Ø±ÙˆØ¬ |
| Ø§Ù„Ø£Ù…Ù‡Ø§Øª Ø§Ù„Ø¬Ø¯Ø¯ | Ù…Ø´ØºÙˆÙ„Ø§Øª Ø¨Ø§Ù„Ø£Ø·ÙØ§Ù„ |
| Ø³ÙƒØ§Ù† Ø§Ù„Ù…Ø¬Ù…Ø¹Ø§Øª | ÙŠØ±ÙŠØ¯ÙˆÙ† ØªÙˆÙÙŠØ± Ø§Ù„Ø´Ø­Ù† |

---

## 2. Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© (Functional Requirements)

### 2.1 Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø§Ø¯Ø© (Community Leaders)

#### FR-CBG-001: ØªØ³Ø¬ÙŠÙ„ ÙˆØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ø¯
**Ø§Ù„ÙˆØµÙ:** Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª

**Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù‚Ø¨ÙˆÙ„:**
```typescript
interface LeaderQualifications {
  // Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  basic: {
    minAge: 21;                      // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¹Ù…Ø±
    hasValidId: boolean;             // Ø¨Ø·Ø§Ù‚Ø© Ù‡ÙˆÙŠØ© ØµØ§Ù„Ø­Ø©
    hasSmartphone: boolean;          // Ù‡Ø§ØªÙ Ø°ÙƒÙŠ
    residencyProof: boolean;         // Ø¥Ø«Ø¨Ø§Øª Ø³ÙƒÙ† ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
    minResidencyMonths: 12;          // 12 Ø´Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
  };

  // Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªÙØ¶ÙŠÙ„ÙŠØ©
  preferred: {
    previousLeadershipRole: boolean; // Ø®Ø¨Ø±Ø© Ù‚ÙŠØ§Ø¯ÙŠØ© Ø³Ø§Ø¨Ù‚Ø©
    businessExperience: boolean;     // Ø®Ø¨Ø±Ø© ØªØ¬Ø§Ø±ÙŠØ©
    largeNetwork: boolean;           // Ø´Ø¨ÙƒØ© Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ø³Ø¹Ø©
    ownsCar: boolean;                // ÙŠÙ…ØªÙ„Ùƒ Ø³ÙŠØ§Ø±Ø© (Ù„Ù„ØªÙˆØ²ÙŠØ¹)
    hasStorageSpace: boolean;        // Ù…Ø³Ø§Ø­Ø© Ù„Ù„ØªØ®Ø²ÙŠÙ†
  };

  // Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
  scoring: {
    maxScore: 100;
    passScore: 60;
    weights: {
      residency: 20;
      network: 25;
      reliability: 25;
      availability: 15;
      resources: 15;
    };
  };
}
```

**Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„:**
```
1. ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨
   â”œâ”€â”€ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
   â”œâ”€â”€ ØµÙˆØ± Ø§Ù„Ù‡ÙˆÙŠØ©
   â”œâ”€â”€ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø³ÙƒÙ†
   â””â”€â”€ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„

2. Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£ÙˆÙ„ÙŠ
   â”œâ”€â”€ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ© (KYC)
   â”œâ”€â”€ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
   â””â”€â”€ ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„ (Ø¥Ù† Ø£Ù…ÙƒÙ†)

3. Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨
   â”œâ”€â”€ Ù…Ù‚Ø§Ø¨Ù„Ø© ÙÙŠØ¯ÙŠÙˆ (15 Ø¯Ù‚ÙŠÙ‚Ø©)
   â”œâ”€â”€ Ø¯ÙˆØ±Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† (2 Ø³Ø§Ø¹Ø©)
   â””â”€â”€ Ø§Ø®ØªØ¨Ø§Ø± Ù‚ØµÙŠØ±

4. Ø§Ù„ÙØªØ±Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
   â”œâ”€â”€ 30 ÙŠÙˆÙ… ÙƒÙ‚Ø§Ø¦Ø¯ Ù…Ø¨ØªØ¯Ø¦
   â”œâ”€â”€ Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10 Ø£Ø¹Ø¶Ø§Ø¡
   â””â”€â”€ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

5. Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
   â”œâ”€â”€ ØªØ±Ù‚ÙŠØ© Ù„Ù‚Ø§Ø¦Ø¯ Ù…Ø¹ØªÙ…Ø¯
   â”œâ”€â”€ Ø±ÙØ¹ Ø§Ù„Ø­Ø¯ÙˆØ¯
   â””â”€â”€ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ø§Ø±Ø©
```

---

#### FR-CBG-002: Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù‚Ø§Ø¦Ø¯ (Leader Dashboard)
**Ø§Ù„ÙˆØµÙ:** ÙˆØ§Ø¬Ù‡Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜°  HADEROS Community Leader                          Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ ğŸ‘¤  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ˜ï¸ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ù†ÙˆØ± - Ø§Ù„Ù…Ø¹Ø§Ø¯ÙŠ                                    â”‚
â”‚  â­ 4.9 (156 ØªÙ‚ÙŠÙŠÙ…)  |  ğŸ‘¥ 42 Ø¹Ø¶Ùˆ  |  ğŸ“¦ 1,250 Ø·Ù„Ø¨                  â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ’° Ø£Ø±Ø¨Ø§Ø­Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±                                          â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚         2,450 Ø¬.Ù…                                             â”‚ â”‚
â”‚  â”‚         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚ â”‚
â”‚  â”‚         â†‘ 15% Ø¹Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ                                 â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  [  Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­  ]                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“Š Ù…Ù„Ø®Øµ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Ø·Ù„Ø¨Ø§Øª     â”‚  Ø¥Ø¬Ù…Ø§Ù„ÙŠ    â”‚  Ø¹Ù…ÙˆÙ„ØªÙƒ    â”‚  Ù„Ù„ØªÙˆØ²ÙŠØ¹   â”‚        â”‚
â”‚  â”‚    32      â”‚  8,500     â”‚   425      â”‚    12      â”‚        â”‚
â”‚  â”‚  Ø·Ù„Ø¨       â”‚  Ø¬.Ù…       â”‚   Ø¬.Ù…      â”‚   Ø·Ù„Ø¨      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“… Ø¬ÙˆÙ„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠØ©                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸŸ¢ Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ø¢Ù†                                               â”‚ â”‚
â”‚  â”‚  â° ØªÙ†ØªÙ‡ÙŠ: Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 8 ÙŠÙ†Ø§ÙŠØ±ØŒ 8:00 Ù…                            â”‚ â”‚
â”‚  â”‚  ğŸ“¦ Ø§Ù„ØªÙˆØ²ÙŠØ¹: Ø§Ù„Ø¬Ù…Ø¹Ø© 10 ÙŠÙ†Ø§ÙŠØ±ØŒ 4:00 Ù… - 8:00 Ù…                  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  Ø§Ù„Ø·Ù„Ø¨Ø§Øª: 18  |  Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 4,200 Ø¬.Ù…                          â”‚ â”‚
â”‚  â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 60%                                   â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  [ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¬ÙˆÙ„Ø© Ù…Ø¨ÙƒØ±Ø§Ù‹ ]   [ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯ ]                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”” Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (3)                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯: ÙØ§Ø·Ù…Ø© Ø£Ø­Ù…Ø¯ (Ø´Ù‚Ø© 12) Ø·Ù„Ø¨Øª Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…                â”‚ â”‚
â”‚  â”‚  â€¢ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯: Ù…Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯ Ø·Ù„Ø¨ 5 Ù…Ù†ØªØ¬Ø§Øª (350 Ø¬.Ù…)                 â”‚ â”‚
â”‚  â”‚  â€¢ ØªØ°ÙƒÙŠØ±: Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹ ØºØ¯Ø§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 4 Ù…                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“¢ Ø¥Ø±Ø³Ø§Ù„   â”‚ â”‚ ğŸ“¦ Ø·Ù„Ø¨Ø§Øª   â”‚ â”‚ ğŸ‘¥ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ â”‚ â”‚ âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª â”‚  â”‚
â”‚  â”‚   ØªÙ†Ø¨ÙŠÙ‡   â”‚ â”‚   Ø¬Ø¯ÙŠØ¯Ø©   â”‚ â”‚           â”‚ â”‚           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [ğŸ ]        [ğŸ“¦]        [ğŸ‘¥]        [ğŸ’°]        [ğŸ“Š]              â”‚
â”‚  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©    Ø§Ù„Ø·Ù„Ø¨Ø§Øª     Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡     Ø§Ù„Ø£Ø±Ø¨Ø§Ø­    Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### FR-CBG-003: Ø¥Ø¯Ø§Ø±Ø© Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø·Ù„Ø¨ (Order Rounds)
**Ø§Ù„ÙˆØµÙ:** Ù†Ø¸Ø§Ù… Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©

```typescript
interface OrderRound {
  id: number;
  groupId: number;
  roundCode: string;           // "R-2026-W02" (Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2 Ù…Ù† 2026)

  // Ø§Ù„ØªÙˆÙ‚ÙŠØª
  timing: {
    orderStart: Date;          // Ø¨Ø¯Ø§ÙŠØ© Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    orderDeadline: Date;       // Ø¢Ø®Ø± Ù…ÙˆØ¹Ø¯ Ù„Ù„Ø·Ù„Ø¨
    collectionDate: Date;      // ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆØ²ÙŠØ¹
    collectionTimeFrom: string; // "16:00"
    collectionTimeTo: string;   // "20:00"
  };

  // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  settings: {
    minOrderAmount: number;    // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨
    maxOrdersCount: number;    // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø·Ù„Ø¨Ø§Øª
    allowLateOrders: boolean;  // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
    lateOrderFee: number;      // Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…ØªØ£Ø®Ø±
  };

  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  stats: {
    ordersCount: number;
    totalAmount: number;
    uniqueMembers: number;
    avgOrderValue: number;
  };

  // Ø§Ù„Ø­Ø§Ù„Ø©
  status: 'scheduled' | 'open' | 'closed' | 'processing' | 'ready' | 'distributed' | 'completed';
}

// Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ø¬ÙˆÙ„Ø©
const roundLifecycle = {
  scheduled: {
    description: 'Ø¬ÙˆÙ„Ø© Ù…Ø¬Ø¯ÙˆÙ„Ø© Ù„Ù… ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯',
    nextStatus: 'open',
    trigger: 'ÙˆØµÙˆÙ„ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©'
  },
  open: {
    description: 'Ù…ÙØªÙˆØ­Ø© Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª',
    nextStatus: 'closed',
    trigger: 'ÙˆØµÙˆÙ„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø£Ùˆ Ø¥ØºÙ„Ø§Ù‚ ÙŠØ¯ÙˆÙŠ'
  },
  closed: {
    description: 'Ù…ØºÙ„Ù‚Ø©ØŒ Ù„Ø§ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',
    nextStatus: 'processing',
    trigger: 'Ø¨Ø¯Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª'
  },
  processing: {
    description: 'Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø·Ù„Ø¨Ø§Øª',
    nextStatus: 'ready',
    trigger: 'ÙˆØµÙˆÙ„ Ø§Ù„Ø´Ø­Ù†Ø© Ù„Ù„Ù‚Ø§Ø¦Ø¯'
  },
  ready: {
    description: 'Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªÙˆØ²ÙŠØ¹',
    nextStatus: 'distributed',
    trigger: 'Ø¨Ø¯Ø¡ Ø§Ù„ØªÙˆØ²ÙŠØ¹'
  },
  distributed: {
    description: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ²ÙŠØ¹',
    nextStatus: 'completed',
    trigger: 'Ø§ÙƒØªÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª'
  },
  completed: {
    description: 'Ù…ÙƒØªÙ…Ù„Ø©',
    nextStatus: null,
    trigger: null
  }
};
```

---

### 2.2 Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©

#### FR-CBG-004: Ø§Ù†Ø¶Ù…Ø§Ù… Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
**Ø§Ù„ÙˆØµÙ:** Ø¹Ù…Ù„ÙŠØ© Ø·Ù„Ø¨ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©

```typescript
interface MembershipRequest {
  userId: number;
  groupId: number;

  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙƒÙ†
  residence: {
    buildingName: string;       // Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ø§Ø±Ø©
    buildingNumber: string;     // Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ø§Ø±Ø©
    floorNumber: string;        // Ø§Ù„Ø¯ÙˆØ±
    apartmentNumber: string;    // Ø±Ù‚Ù… Ø§Ù„Ø´Ù‚Ø©
    landmark: string;           // Ø¹Ù„Ø§Ù…Ø© Ù…Ù…ÙŠØ²Ø©
  };

  // Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
  preferences: {
    preferredCollectionTime: 'morning' | 'afternoon' | 'evening';
    canCollectForNeighbors: boolean;  // ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ø³ØªÙ„Ø§Ù… Ù„Ù„Ø¬ÙŠØ±Ø§Ù†
    preferredPaymentMethod: 'cash' | 'wallet' | 'card';
    communicationPreference: 'whatsapp' | 'sms' | 'app';
  };

  // Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
  agreements: {
    termsAccepted: boolean;
    privacyAccepted: boolean;
    paymentTermsAccepted: boolean;
  };
}

// Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
enum MembershipLevel {
  NEW = 'new',           // Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯ (Ø£ÙˆÙ„ 3 Ø·Ù„Ø¨Ø§Øª)
  REGULAR = 'regular',   // Ø¹Ø¶Ùˆ Ø¹Ø§Ø¯ÙŠ
  TRUSTED = 'trusted',   // Ø¹Ø¶Ùˆ Ù…ÙˆØ«ÙˆÙ‚ (10+ Ø·Ù„Ø¨Ø§ØªØŒ 4.5+ ØªÙ‚ÙŠÙŠÙ…)
  VIP = 'vip'           // Ø¹Ø¶Ùˆ VIP (50+ Ø·Ù„Ø¨ØŒ ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ Ø§Ù„ØªÙˆØ²ÙŠØ¹)
}

// Ø§Ù…ØªÙŠØ§Ø²Ø§Øª ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰
const membershipBenefits = {
  new: {
    orderLimit: 500,           // Ø­Ø¯ Ø§Ù„Ø·Ù„Ø¨ 500 Ø¬.Ù…
    paymentOptions: ['cash'],   // Ù†Ù‚Ø¯ÙŠ ÙÙ‚Ø·
    canOrderLate: false
  },
  regular: {
    orderLimit: 2000,
    paymentOptions: ['cash', 'wallet'],
    canOrderLate: false
  },
  trusted: {
    orderLimit: 5000,
    paymentOptions: ['cash', 'wallet', 'card', 'credit'],
    canOrderLate: true,
    lateOrderDiscount: 0.5    // Ø®ØµÙ… 50% Ø¹Ù„Ù‰ Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ£Ø®ÙŠØ±
  },
  vip: {
    orderLimit: 10000,
    paymentOptions: ['cash', 'wallet', 'card', 'credit'],
    canOrderLate: true,
    lateOrderFee: 0,           // Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… ØªØ£Ø®ÙŠØ±
    priorityCollection: true,  // Ø£ÙˆÙ„ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
    helperBonus: 50            // 50 Ø¬.Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„ØªÙˆØ²ÙŠØ¹
  }
};
```

---

#### FR-CBG-005: Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡
**Ø§Ù„ÙˆØµÙ:** ÙˆØ§Ø¬Ù‡Ø© Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ø±Ø¬ÙˆØ¹              Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ù†ÙˆØ±                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“… Ø¬ÙˆÙ„Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠØ©                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â° Ø¢Ø®Ø± Ù…ÙˆØ¹Ø¯: Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 8 ÙŠÙ†Ø§ÙŠØ±ØŒ 8:00 Ù…                        â”‚ â”‚
â”‚  â”‚  ğŸ“¦ Ø§Ù„ØªÙˆØ²ÙŠØ¹: Ø§Ù„Ø¬Ù…Ø¹Ø© 10 ÙŠÙ†Ø§ÙŠØ±                                  â”‚ â”‚
â”‚  â”‚  ğŸ’° Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø·Ù„Ø¨: 50 Ø¬.Ù…                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [                                            ] [ğŸ”]          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“‚ Ø§Ù„ÙØ¦Ø§Øª                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ¥¬     â”‚ â”‚ ğŸ¥›     â”‚ â”‚ ğŸ§¹     â”‚ â”‚ ğŸ‘¶     â”‚ â”‚ âš¡     â”‚      â”‚
â”‚  â”‚ Ø®Ø¶Ø±ÙˆØ§Øª â”‚ â”‚ Ø£Ù„Ø¨Ø§Ù†  â”‚ â”‚ ØªÙ†Ø¸ÙŠÙ â”‚ â”‚ Ø£Ø·ÙØ§Ù„  â”‚ â”‚ Ø¹Ø±ÙˆØ¶   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹ ÙÙŠ Ù…Ø¬Ù…ÙˆØ¹ØªÙƒ                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  [ØµÙˆØ±Ø©] Ø²ÙŠØª Ø¹Ø§ÙÙŠØ© 2 Ù„ØªØ±        [ØµÙˆØ±Ø©] Ø£Ø±Ø² Ø¨Ø³Ù…ØªÙŠ 5 ÙƒØ¬Ù…        â”‚ â”‚
â”‚  â”‚         85 Ø¬.Ù…                        120 Ø¬.Ù…                â”‚ â”‚
â”‚  â”‚         â­ Ø·Ù„Ø¨Ù‡ 15 Ø¹Ø¶Ùˆ               â­ Ø·Ù„Ø¨Ù‡ 12 Ø¹Ø¶Ùˆ          â”‚ â”‚
â”‚  â”‚         [Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©]                   [Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©]            â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“¦ Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  3 Ù…Ù†ØªØ¬Ø§Øª  â€¢  Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 280 Ø¬.Ù…                               â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  [        Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© ÙˆØ¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨        ]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.3 Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ²ÙŠØ¹

#### FR-CBG-006: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹
**Ø§Ù„ÙˆØµÙ:** Ù†Ø¸Ø§Ù… ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡

```typescript
interface DistributionSession {
  id: number;
  roundId: number;
  leaderId: number;

  // Ø§Ù„ØªÙˆÙ‚ÙŠØª
  scheduledDate: Date;
  scheduledTimeFrom: string;
  scheduledTimeTo: string;
  actualStartTime?: Date;
  actualEndTime?: Date;

  // Ø§Ù„Ù…ÙˆÙ‚Ø¹
  location: {
    type: 'leader_home' | 'building_entrance' | 'meeting_point' | 'custom';
    address: string;
    coordinates?: { lat: number; lng: number };
    instructions: string;
  };

  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  stats: {
    totalOrders: number;
    collectedOrders: number;
    pendingOrders: number;
    noShowOrders: number;
    totalCollected: number;
    totalPending: number;
  };
}

// Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„ØªÙˆØ²ÙŠØ¹
enum OrderCollectionStatus {
  PENDING = 'pending',           // ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
  NOTIFIED = 'notified',         // ØªÙ… Ø¥Ø®Ø·Ø§Ø± Ø§Ù„Ø¹Ø¶Ùˆ
  READY = 'ready',               // Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚
  COLLECTED = 'collected',       // ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
  DELEGATE = 'delegate',         // Ø³ÙŠØ³ØªÙ„Ù…Ù‡ Ø´Ø®Øµ Ø¢Ø®Ø±
  NO_SHOW = 'no_show',           // Ù„Ù… ÙŠØ­Ø¶Ø±
  RESCHEDULED = 'rescheduled'    // Ù…Ø¤Ø¬Ù„
}
```

**Ø´Ø§Ø´Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ù„Ù„Ù‚Ø§Ø¦Ø¯:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ø±Ø¬ÙˆØ¹           ØªÙˆØ²ÙŠØ¹ Ø¬ÙˆÙ„Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„ØªÙˆØ²ÙŠØ¹                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ  â”‚  ØªÙ… Ø§Ø³ØªÙ„Ø§Ù…Ù‡ â”‚  ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± â”‚  Ù„Ù… ÙŠØ­Ø¶Ø±   â”‚        â”‚
â”‚  â”‚    32      â”‚     24     â”‚     6      â”‚     2      â”‚        â”‚
â”‚  â”‚   Ø·Ù„Ø¨     â”‚    Ø·Ù„Ø¨     â”‚    Ø·Ù„Ø¨    â”‚    Ø·Ù„Ø¨     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                     â”‚
â”‚  ğŸ’° Ø§Ù„Ù…Ø¨Ø§Ù„Øº                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ­ØµÙŠÙ„Ù‡: 8,500 Ø¬.Ù…                                    â”‚ â”‚
â”‚  â”‚  ØªÙ… ØªØ­ØµÙŠÙ„Ù‡: 6,200 Ø¬.Ù…                                         â”‚ â”‚
â”‚  â”‚  Ù…ØªØ¨Ù‚ÙŠ: 2,300 Ø¬.Ù…                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ” Ø¨Ø­Ø«...                     [Ø§Ù„ÙƒÙ„ â–¼] [ØªØ±ØªÙŠØ¨: Ø§Ù„Ø´Ù‚Ø© â–¼]      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  âœ… ÙØ§Ø·Ù…Ø© Ø£Ø­Ù…Ø¯ - Ø´Ù‚Ø© 12ØŒ Ø§Ù„Ø¯ÙˆØ± 3                              â”‚ â”‚
â”‚  â”‚     ğŸ“¦ 5 Ù…Ù†ØªØ¬Ø§Øª  â€¢  ğŸ’° 350 Ø¬.Ù…  â€¢  âœ“ Ù…Ø¯ÙÙˆØ¹                    â”‚ â”‚
â”‚  â”‚     â° Ø§Ø³ØªÙ„Ù…Øª 4:15 Ù…                                         â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â³ Ù…Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯ - Ø´Ù‚Ø© 8ØŒ Ø§Ù„Ø¯ÙˆØ± 2                                 â”‚ â”‚
â”‚  â”‚     ğŸ“¦ 3 Ù…Ù†ØªØ¬Ø§Øª  â€¢  ğŸ’° 180 Ø¬.Ù…  â€¢  ğŸ’µ Ù†Ù‚Ø¯ÙŠ                    â”‚ â”‚
â”‚  â”‚     [ğŸ“ Ø§ØªØµØ§Ù„]  [ğŸ’¬ Ø±Ø³Ø§Ù„Ø©]  [âœ“ ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…]                  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â³ Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ - Ø´Ù‚Ø© 15ØŒ Ø§Ù„Ø¯ÙˆØ± 4                                 â”‚ â”‚
â”‚  â”‚     ğŸ“¦ 8 Ù…Ù†ØªØ¬Ø§Øª  â€¢  ğŸ’° 520 Ø¬.Ù…  â€¢  ğŸ’³ Ù…Ø¯ÙÙˆØ¹                   â”‚ â”‚
â”‚  â”‚     ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ø¨Ù†Ù‡Ø§ Ø³ÙŠØ³ØªÙ„Ù…                                   â”‚ â”‚
â”‚  â”‚     [ğŸ“ Ø§ØªØµØ§Ù„]  [ğŸ’¬ Ø±Ø³Ø§Ù„Ø©]  [âœ“ ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…]                  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  âŒ Ø£Ø­Ù…Ø¯ Ø­Ø³Ù† - Ø´Ù‚Ø© 3ØŒ Ø§Ù„Ø¯ÙˆØ± 1                                  â”‚ â”‚
â”‚  â”‚     ğŸ“¦ 2 Ù…Ù†ØªØ¬Ø§Øª  â€¢  ğŸ’° 95 Ø¬.Ù…  â€¢  ğŸ’µ Ù†Ù‚Ø¯ÙŠ                     â”‚ â”‚
â”‚  â”‚     âš ï¸ Ù„Ù… ÙŠØ­Ø¶Ø± - ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ 3 Ù…Ø±Ø§Øª                            â”‚ â”‚
â”‚  â”‚     [ğŸ“ Ø§ØªØµØ§Ù„]  [ğŸ“… Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø©]  [âŒ Ø¥Ù„ØºØ§Ø¡]                  â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [ ğŸ“¢ Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ± Ù„Ù„Ø¬Ù…ÙŠØ¹ ]   [ âœ“ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªÙˆØ²ÙŠØ¹ ]             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.4 Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª

#### FR-CBG-007: Ø­Ø³Ø§Ø¨ Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù‚Ø§Ø¦Ø¯
**Ø§Ù„ÙˆØµÙ:** Ù†Ø¸Ø§Ù… Ø­Ø³Ø§Ø¨ ÙˆØ¯ÙØ¹ Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ø©

```typescript
interface LeaderCommission {
  leaderId: number;
  roundId: number;

  // Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  baseCommission: {
    roundTotal: number;          // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø©
    commissionRate: number;      // Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© (5-10%)
    baseAmount: number;          // Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
  };

  // Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
  bonuses: {
    newMembersBonus: number;     // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø¯
    highVolumeBonus: number;     // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø¹Ø§Ù„ÙŠ
    perfectDistribution: number; // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ
    onTimeBonus: number;         // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„ÙˆÙ‚Øª
    ratingBonus: number;         // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù…ØªØ§Ø²
  };

  // Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
  deductions: {
    lateDistribution: number;    // Ø®ØµÙ… Ø§Ù„ØªØ£Ø®ÙŠØ±
    complaints: number;          // Ø®ØµÙ… Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰
    refunds: number;             // Ø®ØµÙ… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
  };

  // Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
  total: number;
  status: 'pending' | 'approved' | 'paid';
  paidAt?: Date;
}

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©
function calculateLeaderCommission(round: OrderRound, leader: Leader): LeaderCommission {
  // 1. Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  let baseRate = 0.05; // 5% Ø£Ø³Ø§Ø³ÙŠ

  // ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù†Ø³Ø¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡
  if (leader.totalRounds > 50 && leader.avgRating >= 4.8) {
    baseRate = 0.08; // 8% Ù„Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ù…ÙŠØ²ÙŠÙ†
  } else if (leader.totalRounds > 20 && leader.avgRating >= 4.5) {
    baseRate = 0.07; // 7% Ù„Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†
  } else if (leader.totalRounds > 10) {
    baseRate = 0.06; // 6% Ù„Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠÙŠÙ†
  }

  const baseAmount = round.stats.totalAmount * baseRate;

  // 2. Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
  const bonuses = {
    // 10 Ø¬.Ù… Ù„ÙƒÙ„ Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯
    newMembersBonus: round.newMembers * 10,

    // 2% Ø¥Ø¶Ø§ÙÙŠ Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ² 10,000 Ø¬.Ù…
    highVolumeBonus: round.stats.totalAmount > 10000
      ? round.stats.totalAmount * 0.02
      : 0,

    // 50 Ø¬.Ù… Ù„Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ (100% Ø§Ø³ØªÙ„Ø§Ù…)
    perfectDistribution: round.stats.collectionRate === 1
      ? 50
      : 0,

    // 30 Ø¬.Ù… Ù„Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„ÙˆÙ‚Øª
    onTimeBonus: round.distributionDelay <= 0
      ? 30
      : 0,

    // 20 Ø¬.Ù… Ù„Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ù…ØªØ§Ø²
    ratingBonus: round.avgRating >= 4.9
      ? 20
      : 0
  };

  // 3. Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
  const deductions = {
    // 5 Ø¬.Ù… Ù„ÙƒÙ„ Ø³Ø§Ø¹Ø© ØªØ£Ø®ÙŠØ±
    lateDistribution: Math.max(0, round.distributionDelay) * 5,

    // 10 Ø¬.Ù… Ù„ÙƒÙ„ Ø´ÙƒÙˆÙ‰ Ù…Ø¤ÙƒØ¯Ø©
    complaints: round.confirmedComplaints * 10,

    // 2% Ù…Ù† Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
    refunds: round.refundsAmount * 0.02
  };

  const total = baseAmount
    + Object.values(bonuses).reduce((a, b) => a + b, 0)
    - Object.values(deductions).reduce((a, b) => a + b, 0);

  return {
    leaderId: leader.id,
    roundId: round.id,
    baseCommission: { roundTotal: round.stats.totalAmount, commissionRate: baseRate, baseAmount },
    bonuses,
    deductions,
    total: Math.max(0, total), // Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ø³Ø§Ù„Ø¨Ø©
    status: 'pending'
  };
}
```

---

## 3. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Database Schema)

```sql
-- =====================================================
-- Community Buying Groups Database Schema
-- =====================================================

-- 1. Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ÙŠØ©
CREATE TABLE community_groups (
    id INT AUTO_INCREMENT PRIMARY KEY,
    group_code VARCHAR(20) UNIQUE NOT NULL,

    -- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
    name VARCHAR(100) NOT NULL,
    name_ar VARCHAR(100) NOT NULL,
    description TEXT,
    description_ar TEXT,
    group_type ENUM('residential', 'office', 'university', 'club', 'neighborhood', 'other') NOT NULL,

    -- Ø§Ù„Ù…ÙˆÙ‚Ø¹
    governorate VARCHAR(50) NOT NULL,
    city VARCHAR(100) NOT NULL,
    district VARCHAR(100),
    area VARCHAR(100) NOT NULL,
    address TEXT,
    address_ar TEXT,
    lat DECIMAL(10, 8),
    lng DECIMAL(11, 8),
    coverage_radius_km DECIMAL(4, 2) DEFAULT 1.0,

    -- Ø§Ù„Ù‚Ø§Ø¦Ø¯
    leader_id INT NOT NULL,
    backup_leader_id INT,

    -- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©
    leader_commission_rate DECIMAL(4, 2) DEFAULT 5.00,
    platform_commission_rate DECIMAL(4, 2) DEFAULT 2.00,

    -- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    min_order_amount DECIMAL(10, 2) DEFAULT 50,
    max_order_amount DECIMAL(10, 2) DEFAULT 5000,
    order_round_frequency ENUM('daily', 'twice_weekly', 'weekly', 'biweekly') DEFAULT 'weekly',

    -- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    order_days JSON,            -- ["sunday", "wednesday"]
    order_deadline_time TIME,   -- "20:00"
    distribution_day VARCHAR(10),
    distribution_time_from TIME,
    distribution_time_to TIME,

    -- Ø§Ù„Ø­Ø¯ÙˆØ¯
    max_members INT DEFAULT 100,
    members_count INT DEFAULT 0,

    -- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    total_rounds INT DEFAULT 0,
    total_orders INT DEFAULT 0,
    total_revenue DECIMAL(12, 2) DEFAULT 0,
    avg_order_value DECIMAL(10, 2) DEFAULT 0,
    avg_rating DECIMAL(3, 2) DEFAULT 5.00,

    -- Ø§Ù„Ø­Ø§Ù„Ø©
    status ENUM('pending_approval', 'active', 'paused', 'closed') DEFAULT 'pending_approval',
    approved_at DATETIME,
    approved_by INT,
    paused_reason TEXT,
    closed_reason TEXT,

    -- Ø§Ù„ØµÙˆØ±
    group_photo VARCHAR(500),
    cover_photo VARCHAR(500),

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (leader_id) REFERENCES users(id),
    FOREIGN KEY (backup_leader_id) REFERENCES users(id),
    INDEX idx_status (status),
    INDEX idx_location (governorate, city, district),
    INDEX idx_leader (leader_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 2. Ø§Ù„Ù‚Ø§Ø¯Ø©
CREATE TABLE community_leaders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT UNIQUE NOT NULL,

    -- Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
    full_name VARCHAR(100) NOT NULL,
    full_name_ar VARCHAR(100),
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(255),
    profile_photo VARCHAR(500),

    -- Ø§Ù„Ù‡ÙˆÙŠØ©
    national_id VARCHAR(20) NOT NULL,
    national_id_verified BOOLEAN DEFAULT FALSE,
    national_id_image_front VARCHAR(500),
    national_id_image_back VARCHAR(500),

    -- Ø§Ù„ØªØ­Ù‚Ù‚
    kyc_status ENUM('pending', 'verified', 'rejected') DEFAULT 'pending',
    kyc_verified_at DATETIME,
    kyc_rejection_reason TEXT,
    background_check_status ENUM('pending', 'passed', 'failed', 'not_required') DEFAULT 'not_required',

    -- Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
    residence_address TEXT,
    residence_verified BOOLEAN DEFAULT FALSE,
    residency_months INT,

    -- Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
    has_storage_space BOOLEAN DEFAULT FALSE,
    storage_capacity_sqm DECIMAL(6, 2),
    has_vehicle BOOLEAN DEFAULT FALSE,
    vehicle_type VARCHAR(50),

    -- Ø§Ù„ØªÙˆÙØ±
    availability_hours JSON,   -- {"sunday": ["09:00-12:00", "16:00-20:00"], ...}
    preferred_distribution_days JSON,

    -- Ø§Ù„ØªØ¯Ø±ÙŠØ¨
    training_completed BOOLEAN DEFAULT FALSE,
    training_completed_at DATETIME,
    training_score INT,

    -- Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙˆØ§Ù„Ø´Ø§Ø±Ø§Øª
    leader_level ENUM('beginner', 'regular', 'advanced', 'expert', 'master') DEFAULT 'beginner',
    badges JSON,

    -- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    total_groups INT DEFAULT 0,
    active_groups INT DEFAULT 0,
    total_members INT DEFAULT 0,
    total_rounds INT DEFAULT 0,
    total_orders_value DECIMAL(12, 2) DEFAULT 0,
    total_earnings DECIMAL(12, 2) DEFAULT 0,
    avg_rating DECIMAL(3, 2) DEFAULT 5.00,
    total_ratings INT DEFAULT 0,

    -- Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    wallet_balance DECIMAL(10, 2) DEFAULT 0,
    pending_earnings DECIMAL(10, 2) DEFAULT 0,
    payout_method ENUM('bank_transfer', 'vodafone_cash', 'instapay'),
    bank_name VARCHAR(100),
    bank_account_number VARCHAR(50),
    mobile_wallet_number VARCHAR(20),

    -- Ø§Ù„Ø­Ø§Ù„Ø©
    status ENUM('pending', 'trial', 'active', 'suspended', 'banned') DEFAULT 'pending',
    trial_start_date DATE,
    trial_end_date DATE,
    suspension_reason TEXT,
    suspension_until DATETIME,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_status (status),
    INDEX idx_level (leader_level)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 3. Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
CREATE TABLE community_group_members (
    id INT AUTO_INCREMENT PRIMARY KEY,
    group_id INT NOT NULL,
    user_id INT NOT NULL,

    -- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ø¶Ùˆ
    member_name VARCHAR(100) NOT NULL,
    member_phone VARCHAR(20) NOT NULL,
    member_email VARCHAR(255),

    -- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³ÙƒÙ†
    building_name VARCHAR(100),
    building_number VARCHAR(20),
    floor_number VARCHAR(10),
    apartment_number VARCHAR(20),
    landmark TEXT,

    -- Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
    preferred_collection_time ENUM('morning', 'afternoon', 'evening') DEFAULT 'evening',
    can_collect_for_neighbors BOOLEAN DEFAULT FALSE,
    preferred_payment_method ENUM('cash', 'wallet', 'card') DEFAULT 'cash',
    communication_preference ENUM('whatsapp', 'sms', 'app', 'call') DEFAULT 'whatsapp',

    -- Ø§Ù„Ù…Ø³ØªÙˆÙ‰
    membership_level ENUM('new', 'regular', 'trusted', 'vip') DEFAULT 'new',
    level_upgraded_at DATETIME,

    -- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    total_orders INT DEFAULT 0,
    total_spent DECIMAL(10, 2) DEFAULT 0,
    avg_order_value DECIMAL(10, 2) DEFAULT 0,
    no_show_count INT DEFAULT 0,
    on_time_collection_rate DECIMAL(5, 2) DEFAULT 100,

    -- Ø§Ù„Ø­Ø§Ù„Ø©
    status ENUM('pending', 'active', 'suspended', 'removed') DEFAULT 'pending',
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    approved_at DATETIME,
    approved_by INT,
    removed_at DATETIME,
    removal_reason TEXT,

    FOREIGN KEY (group_id) REFERENCES community_groups(id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE KEY unique_membership (group_id, user_id),
    INDEX idx_group (group_id),
    INDEX idx_user (user_id),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 4. Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø·Ù„Ø¨
CREATE TABLE community_order_rounds (
    id INT AUTO_INCREMENT PRIMARY KEY,
    round_code VARCHAR(20) UNIQUE NOT NULL,
    group_id INT NOT NULL,

    -- Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
    title VARCHAR(100),
    title_ar VARCHAR(100),
    description TEXT,

    -- Ø§Ù„ØªÙˆÙ‚ÙŠØª
    order_start DATETIME NOT NULL,
    order_deadline DATETIME NOT NULL,
    distribution_date DATE NOT NULL,
    distribution_time_from TIME NOT NULL,
    distribution_time_to TIME NOT NULL,

    -- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    min_order_amount DECIMAL(10, 2),
    max_orders INT,
    allow_late_orders BOOLEAN DEFAULT FALSE,
    late_order_fee DECIMAL(10, 2) DEFAULT 10,

    -- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    orders_count INT DEFAULT 0,
    total_amount DECIMAL(10, 2) DEFAULT 0,
    unique_members INT DEFAULT 0,
    avg_order_value DECIMAL(10, 2) DEFAULT 0,
    items_count INT DEFAULT 0,

    -- Ø§Ù„ØªÙˆØ²ÙŠØ¹
    distribution_location_type ENUM('leader_home', 'building_entrance', 'meeting_point', 'custom'),
    distribution_address TEXT,
    distribution_lat DECIMAL(10, 8),
    distribution_lng DECIMAL(11, 8),
    distribution_instructions TEXT,

    -- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙˆØ²ÙŠØ¹
    collected_orders INT DEFAULT 0,
    pending_orders INT DEFAULT 0,
    no_show_orders INT DEFAULT 0,
    collected_amount DECIMAL(10, 2) DEFAULT 0,
    pending_amount DECIMAL(10, 2) DEFAULT 0,

    -- Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª
    leader_commission DECIMAL(10, 2) DEFAULT 0,
    platform_commission DECIMAL(10, 2) DEFAULT 0,

    -- Ø§Ù„Ø­Ø§Ù„Ø©
    status ENUM('scheduled', 'open', 'closed', 'processing', 'shipped', 'ready', 'distributing', 'completed', 'cancelled') DEFAULT 'scheduled',

    -- Ø§Ù„ØªÙˆÙ‚ÙŠØªØ§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©
    actual_distribution_start DATETIME,
    actual_distribution_end DATETIME,
    distribution_delay_minutes INT DEFAULT 0,

    -- Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
    avg_rating DECIMAL(3, 2),
    total_ratings INT DEFAULT 0,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (group_id) REFERENCES community_groups(id),
    INDEX idx_group (group_id),
    INDEX idx_status (status),
    INDEX idx_deadline (order_deadline)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 5. Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
CREATE TABLE community_member_orders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    order_code VARCHAR(20) UNIQUE NOT NULL,
    round_id INT NOT NULL,
    member_id INT NOT NULL,
    user_id INT NOT NULL,

    -- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    items JSON NOT NULL,
    items_count INT NOT NULL,

    -- Ø§Ù„Ù…Ø¨Ø§Ù„Øº
    subtotal DECIMAL(10, 2) NOT NULL,
    discount DECIMAL(10, 2) DEFAULT 0,
    late_fee DECIMAL(10, 2) DEFAULT 0,
    total DECIMAL(10, 2) NOT NULL,

    -- Ø§Ù„Ø¯ÙØ¹
    payment_method ENUM('cash', 'wallet', 'card', 'credit') DEFAULT 'cash',
    payment_status ENUM('pending', 'paid', 'refunded', 'failed') DEFAULT 'pending',
    paid_at DATETIME,
    payment_reference VARCHAR(100),

    -- Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
    collection_status ENUM('pending', 'notified', 'ready', 'collected', 'delegate', 'no_show', 'rescheduled') DEFAULT 'pending',
    delegate_name VARCHAR(100),
    delegate_phone VARCHAR(20),
    collected_at DATETIME,
    collected_by VARCHAR(100),

    -- Ù…Ù„Ø§Ø­Ø¸Ø§Øª
    member_notes TEXT,
    leader_notes TEXT,

    -- Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
    rating INT,
    review TEXT,
    rated_at DATETIME,

    is_late_order BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    FOREIGN KEY (round_id) REFERENCES community_order_rounds(id),
    FOREIGN KEY (member_id) REFERENCES community_group_members(id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_round (round_id),
    INDEX idx_member (member_id),
    INDEX idx_status (collection_status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 6. Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ø©
CREATE TABLE community_leader_earnings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    leader_id INT NOT NULL,
    group_id INT NOT NULL,
    round_id INT NOT NULL,

    -- Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    round_total DECIMAL(10, 2) NOT NULL,
    commission_rate DECIMAL(4, 2) NOT NULL,
    base_commission DECIMAL(10, 2) NOT NULL,

    -- Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
    new_members_bonus DECIMAL(10, 2) DEFAULT 0,
    high_volume_bonus DECIMAL(10, 2) DEFAULT 0,
    perfect_distribution_bonus DECIMAL(10, 2) DEFAULT 0,
    on_time_bonus DECIMAL(10, 2) DEFAULT 0,
    rating_bonus DECIMAL(10, 2) DEFAULT 0,

    -- Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
    late_deduction DECIMAL(10, 2) DEFAULT 0,
    complaints_deduction DECIMAL(10, 2) DEFAULT 0,
    refunds_deduction DECIMAL(10, 2) DEFAULT 0,

    -- Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
    total_bonuses DECIMAL(10, 2) DEFAULT 0,
    total_deductions DECIMAL(10, 2) DEFAULT 0,
    net_amount DECIMAL(10, 2) NOT NULL,

    -- Ø§Ù„Ø­Ø§Ù„Ø©
    status ENUM('pending', 'approved', 'paid', 'disputed') DEFAULT 'pending',
    approved_at DATETIME,
    approved_by INT,
    paid_at DATETIME,
    payout_reference VARCHAR(100),

    -- Ø§Ù„Ù†Ø²Ø§Ø¹
    dispute_reason TEXT,
    dispute_resolved_at DATETIME,
    dispute_resolution TEXT,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    FOREIGN KEY (leader_id) REFERENCES community_leaders(id),
    FOREIGN KEY (group_id) REFERENCES community_groups(id),
    FOREIGN KEY (round_id) REFERENCES community_order_rounds(id),
    INDEX idx_leader (leader_id),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

---

## 4. ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª (API Specification)

### 4.1 Leaders API

```typescript
// ØªØ³Ø¬ÙŠÙ„ ÙƒÙ‚Ø§Ø¦Ø¯
POST   /api/community/leaders/register
GET    /api/community/leaders/me
PUT    /api/community/leaders/me
POST   /api/community/leaders/me/documents
GET    /api/community/leaders/me/training

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª
POST   /api/community/groups/create
GET    /api/community/groups/:id
PUT    /api/community/groups/:id
GET    /api/community/groups/:id/members
POST   /api/community/groups/:id/members/:memberId/approve
DELETE /api/community/groups/:id/members/:memberId

// Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø·Ù„Ø¨
POST   /api/community/groups/:id/rounds/create
GET    /api/community/groups/:id/rounds
GET    /api/community/rounds/:id
PUT    /api/community/rounds/:id/status
GET    /api/community/rounds/:id/orders

// Ø§Ù„ØªÙˆØ²ÙŠØ¹
POST   /api/community/rounds/:id/distribution/start
POST   /api/community/rounds/:id/orders/:orderId/collect
POST   /api/community/rounds/:id/distribution/complete

// Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
GET    /api/community/leaders/me/earnings
GET    /api/community/leaders/me/earnings/summary
POST   /api/community/leaders/me/payout
```

### 4.2 Members API

```typescript
// Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø§Ù†Ø¶Ù…Ø§Ù…
GET    /api/community/groups/nearby
GET    /api/community/groups/:id
POST   /api/community/groups/:id/join
GET    /api/community/groups/:id/catalog

// Ø§Ù„Ø·Ù„Ø¨Ø§Øª
GET    /api/community/groups/:id/current-round
POST   /api/community/rounds/:id/orders
GET    /api/community/orders/:id
PUT    /api/community/orders/:id
DELETE /api/community/orders/:id

// Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…
GET    /api/community/orders/:id/collection-status
POST   /api/community/orders/:id/delegate
POST   /api/community/orders/:id/rate

// Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
GET    /api/community/memberships
GET    /api/community/memberships/:id/stats
```

---

## 5. Ø®Ø·Ø© Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© (4 Ø£Ø³Ø§Ø¨ÙŠØ¹)
```
- 5 Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙÙŠ 3 Ø£Ø­ÙŠØ§Ø¡ Ø¨Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©
- 10-20 Ø¹Ø¶Ùˆ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©
- Ø¬ÙˆÙ„Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹
- Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„ØªÙˆØ³Ø¹ Ø§Ù„Ù…Ø­Ù„ÙŠ (8 Ø£Ø³Ø§Ø¨ÙŠØ¹)
```
- 50 Ù…Ø¬Ù…ÙˆØ¹Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰
- 20-50 Ø¹Ø¶Ùˆ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©
- Ø¬ÙˆÙ„ØªÙŠÙ† Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹
- ØªÙˆØ³ÙŠØ¹ Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„ØªÙˆØ³Ø¹ Ø§Ù„ÙˆØ·Ù†ÙŠ (12 Ø£Ø³Ø¨ÙˆØ¹)
```
- 200+ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ù†Ø¸Ø§Ù… ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
- ÙƒØªØ§Ù„ÙˆØ¬ ÙƒØ§Ù…Ù„
- ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ†
```

---

## 6. Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù†Ø¬Ø§Ø­

| Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ | Ø§Ù„Ù‡Ø¯Ù (Ø´Ù‡Ø± 3) | Ø§Ù„Ù‡Ø¯Ù (Ø´Ù‡Ø± 6) |
|---------|---------------|---------------|
| Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ù†Ø´Ø·Ø© | 50 | 200 |
| Ù‚Ø§Ø¯Ø© Ù…Ø¹ØªÙ…Ø¯ÙŠÙ† | 60 | 250 |
| Ø£Ø¹Ø¶Ø§Ø¡ Ù†Ø´Ø·ÙŠÙ† | 2,000 | 10,000 |
| GMV Ø´Ù‡Ø±ÙŠ | 500K Ø¬.Ù… | 3M Ø¬.Ù… |
| Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… | 95% | 98% |
| Ø±Ø¶Ø§ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ | 4.3+ | 4.6+ |
| Ø¯Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ø¯/Ø´Ù‡Ø± | 1,500 Ø¬.Ù… | 3,000 Ø¬.Ù… |

---

**Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ†Ø¯**
